(this.webpackJsonptelegram_react=this.webpackJsonptelegram_react||[]).push([[7],{633:function(e,t,n){},659:function(e,t,n){"use strict";n.r(t);var a=n(9),r=n.n(a),i=n(17),c=n(7),s=n(8),o=n(11),l=n(10),u=n(12),k=n(0),p=n.n(k),h=n(138),d=n.n(h),m=n(69),f=n(150),S=n.n(f),b=n(37),E=n(314),v=n(280),j=n(401),C=n(52),P=n(377),g=n(412),y=n(29),U=n(333),w=n(16),M=n(14),O=n(332),R=n(76),T=n(3),x=(n(633),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(l.a)(t).call(this,e))).onClientUpdateChange=function(e){n.picker=null},n.handleButtonMouseEnter=function(e){n.buttonEnter=!0,setTimeout(function(){n.buttonEnter&&(n.updatePicker(!0),n.loadStickerSets())},w.e)},n.loadStickerSets=Object(i.a)(r.a.mark(function e(){var t,a,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.sets){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,T.a.send({"@type":"getRecentStickers",is_attached:!1});case 4:return n.recent=e.sent,e.next=7,T.a.send({"@type":"getInstalledStickerSets",is_masks:!1});case 7:return n.stickerSets=e.sent,t=[],n.stickerSets.sets.forEach(function(e){t.push(T.a.send({"@type":"getStickerSet",set_id:e.id}))}),e.next=12,Promise.all(t);case 12:n.sets=e.sent,a=n.stickersPickerRef.current,i=O.a.getStore(),Object(U.A)(i,n.recent),n.sets.slice(0,5).reverse().forEach(function(e){Object(U.C)(i,e),a.loadedSets.set(e.id,e.id)}),n.sets.reduce(function(e,t){return t.stickers.length>0&&e.push(t.stickers[0]),e},[]).forEach(function(e){Object(U.D)(i,e)});case 20:case"end":return e.stop()}},e)})),n.handleButtonMouseLeave=function(){n.buttonEnter=!1,setTimeout(function(){n.tryClosePicker()},w.e)},n.tryClosePicker=function(){var e=n.state.sticker;n.paperEnter||n.buttonEnter||e||n.updatePicker(!1)},n.handlePaperMouseEnter=function(){n.paperEnter=!0},n.handlePaperMouseLeave=function(){n.paperEnter=!1,setTimeout(function(){n.tryClosePicker()},w.e)},n.updatePicker=function(e){n.setState({open:e})},n.handleEmojiClick=function(){n.setState({tab:0})},n.handleStickersClick=function(){var e=n.stickersPickerRef.current,t=n.state.tab;e.loadContent(n.recent,n.stickerSets,n.sets),n.setState({tab:1}),1===t&&e.scrollTop()},n.handleStickerSend=function(e){e&&(T.a.clientUpdate({"@type":"clientUpdateStickerSend",sticker:e}),n.updatePicker(!1))},n.handleStickerPreview=function(e){n.setState({sticker:e}),T.a.clientUpdate({"@type":"clientUpdateStickerPreview",sticker:e}),e||n.tryClosePicker()},n.state={open:!1,tab:0},n.emojiPickerRef=p.a.createRef(),n.stickersPickerRef=p.a.createRef(),n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){M.a.on("clientUpdateThemeChange",this.onClientUpdateChange),R.a.on("clientUpdateLanguageChange",this.onClientUpdateChange)}},{key:"componentWillUnmount",value:function(){M.a.off("clientUpdateThemeChange",this.onClientUpdateChange),R.a.off("clientUpdateLanguageChange",this.onClientUpdateChange)}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.t,a=this.state,r=a.open,i=a.tab,c=a.sticker;if(r&&!this.picker){var s={search:n("Search"),notfound:n("NotEmojiFound"),skintext:n("ChooseDefaultSkinTone"),categories:{search:n("SearchResults"),recent:n("Recent"),people:n("SmileysPeople"),nature:n("AnimalsNature"),foods:n("FoodDrink"),activity:n("Activity"),places:n("TravelPlaces"),objects:n("Objects"),symbols:n("Symbols"),flags:n("Flags"),custom:n("Custom")}};this.picker=p.a.createElement(C.b,{ref:this.emojiPickerRef,set:"apple",showPreview:!1,showSkinTones:!1,onSelect:this.props.onSelect,color:t.palette.primary.dark,i18n:s,native:Object(y.q)(),style:{width:338,overflowX:"hidden"}}),this.stickersPicker=p.a.createElement(g.a,{ref:this.stickersPickerRef,onSelect:this.handleStickerSend,onPreview:this.handleStickerPreview})}return p.a.createElement(p.a.Fragment,null,p.a.createElement("link",{rel:"stylesheet",type:"text/css",href:"dark"===t.palette.type?"emoji-mart.dark.css":"emoji-mart.light.css"}),p.a.createElement(v.a,{className:"inputbox-icon-button","aria-label":"Emoticon",onMouseEnter:this.handleButtonMouseEnter,onMouseLeave:this.handleButtonMouseLeave},p.a.createElement(j.a,null)),p.a.createElement("div",{className:d()("emoji-picker-root",{"emoji-picker-root-opened":r}),onMouseEnter:this.handlePaperMouseEnter,onMouseLeave:this.handlePaperMouseLeave},p.a.createElement("div",{className:"emoji-picker-header"},p.a.createElement(E.a,{color:0===i?"primary":"default",className:"emoji-picker-header-button",onClick:this.handleEmojiClick},n("Emoji")),p.a.createElement(E.a,{color:1===i?"primary":"default",className:"emoji-picker-header-button",onClick:this.handleStickersClick},n("Stickers"))),p.a.createElement("div",{className:d()("emoji-picker-content",{"emoji-picker-content-stickers":1===i})},this.picker,this.stickersPicker),Boolean(c)&&p.a.createElement(P.a,{sticker:c})))}}]),t}(p.a.Component)),L=Object(m.a)(Object(b.d)(),S.a);t.default=L(x)}}]);
//# sourceMappingURL=7.3c4922b6.chunk.js.map